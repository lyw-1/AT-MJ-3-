# 密码重置功能待办事项

## 待实现功能

1. **真实的验证码发送实现**
   - 实现邮件发送功能，配置SMTP服务器
   - 实现短信发送功能，集成短信服务商API
   - 优先级：高
   - 依赖：需要邮件/短信服务配置

2. **图形验证码集成**
   - 添加图形验证码防止机器人攻击
   - 在发送重置验证码前验证图形验证码
   - 优先级：中
   - 依赖：图形验证码生成库

3. **IP限制功能**
   - 实现基于IP的请求频率限制
   - 防止恶意IP进行大量请求
   - 优先级：中
   - 依赖：无

## 优化事项

1. **更复杂的验证码生成算法**
   - 目前使用简单的6位数字，可考虑增加复杂度
   - 优先级：低
   - 依赖：无

2. **密码历史记录**
   - 实现密码历史记录功能
   - 防止用户重复使用最近的几个密码
   - 优先级：低
   - 依赖：数据库表结构调整

3. **操作日志审计**
   - 记录所有密码重置相关操作
   - 包括请求时间、用户信息、操作结果等
   - 优先级：中
   - 依赖：日志系统配置

## 配置调整

1. **缓存参数优化**
   - 根据实际使用情况调整以下参数：
     - 验证码有效期（当前15分钟）
     - 发送频率限制（当前1分钟）
     - 24小时内最大发送次数（当前10次）
   - 优先级：低
   - 配置文件：`PasswordResetCacheConfig.java`

2. **密码策略调整**
   - 根据安全要求调整密码强度规则
   - 包括长度、字符类型、特殊字符要求等
   - 优先级：低
   - 配置位置：密码验证逻辑

## 测试事项

1. **单元测试编写**
   - 为所有密码重置相关方法编写单元测试
   - 覆盖正常流程和异常情况
   - 优先级：高
   - 依赖：测试框架配置

2. **集成测试编写**
   - 编写API接口集成测试
   - 测试完整的密码重置流程
   - 优先级：中
   - 依赖：测试环境配置

3. **性能测试**
   - 测试在高并发情况下的系统表现
   - 特别是Redis缓存的性能
   - 优先级：低
   - 依赖：性能测试工具

## 文档更新

1. **API文档更新**
   - 在Swagger/knife4j中添加密码重置接口文档
   - 包括接口说明、参数描述、返回值说明等
   - 优先级：中
   - 依赖：Swagger/knife4j配置

2. **用户使用文档**
   - 编写面向最终用户的密码重置功能使用说明
   - 包括操作步骤、常见问题解答等
   - 优先级：低
   - 依赖：无

## 注意事项

- 所有涉及敏感信息（如邮件服务器配置、短信API密钥）的内容必须通过环境变量或配置文件管理，不得硬编码
- 实现邮件/短信发送功能时，建议先在测试环境充分测试，避免发送大量测试邮件/短信
- 进行性能优化时，注意保持与现有系统架构的一致性