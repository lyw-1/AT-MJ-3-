<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mold.digitalization.mapper.ProcessPresetMapper">
    
    <!-- 根据模具ID和工序代码查询预设置列表 -->
    <select id="getByMoldIdAndProcessCode" resultType="com.mold.digitalization.entity.ProcessPreset">
        SELECT * FROM process_preset
        WHERE mold_id = #{moldId} AND process_code = #{processCode}
        ORDER BY create_time DESC
    </select>
    
    <!-- 根据模具ID查询预设置列表 -->
    <select id="getByMoldId" resultType="com.mold.digitalization.entity.ProcessPreset">
        SELECT * FROM process_preset
        WHERE mold_id = #{moldId}
        ORDER BY create_time DESC
    </select>
    
    <!-- 根据工序代码查询预设置列表 -->
    <select id="getByProcessCode" resultType="com.mold.digitalization.entity.ProcessPreset">
        SELECT * FROM process_preset
        WHERE process_code = #{processCode}
        ORDER BY create_time DESC
    </select>
    
    <!-- 根据模具ID和工序代码删除预设置 -->
    <delete id="deleteByMoldIdAndProcessCode">
        DELETE FROM process_preset
        WHERE mold_id = #{moldId} AND process_code = #{processCode}
    </delete>
    
    <!-- 根据模具ID删除预设置 -->
    <delete id="deleteByMoldId">
        DELETE FROM process_preset
        WHERE mold_id = #{moldId}
    </delete>
    
</mapper>