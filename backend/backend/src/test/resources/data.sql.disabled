-- 测试环境初始化数据
-- 为H2内存数据库插入测试数据

-- 插入用户数据 (密码是"123456")
INSERT INTO `user` (username, password, real_name, phone, status, create_time, update_time, deleted) VALUES
('admin', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', '系统管理员', '13800138000', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0),
('operator1', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', '操作员1', '13800138001', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0),
('operator2', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', '操作员2', '13800138002', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0),
('manager1', '$2a$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi', '生产经理', '13800138003', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0);

-- 插入角色数据
INSERT INTO role (role_name, role_code, description, status, create_time, update_time, deleted) VALUES
('系统管理员', 'ADMIN', '系统管理员角色', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0),
('生产经理', 'PRODUCTION_MANAGER', '生产经理角色', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0),
('操作员', 'OPERATOR', '操作员角色', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0);

-- 插入用户角色关联数据
INSERT INTO user_role (user_id, role_id, create_time, update_time) VALUES
(1, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(2, 3, '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(3, 3, '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(4, 2, '2024-01-01 00:00:00', '2024-01-01 00:00:00');

-- 插入权限数据
INSERT INTO permission (permission_name, permission_code, description, status, create_time, update_time, deleted) VALUES
('用户管理', 'USER_MANAGE', '用户管理权限', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0),
('角色管理', 'ROLE_MANAGE', '角色管理权限', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0),
('模具管理', 'MOLD_MANAGE', '模具管理权限', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0),
('生产任务管理', 'TASK_MANAGE', '生产任务管理权限', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0),
('生产记录查看', 'RECORD_VIEW', '生产记录查看权限', 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00', 0);

-- 插入角色权限关联数据
INSERT INTO role_permission (role_id, permission_id, create_time, update_time) VALUES
(1, 1, '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(1, 2, '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(1, 3, '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(1, 4, '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(1, 5, '2024-01-01 00:00:00', '2024-01-01 00:00:00'), -- 管理员拥有所有权限
(2, 3, '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(2, 4, '2024-01-01 00:00:00', '2024-01-01 00:00:00'),
(2, 5, '2024-01-01 00:00:00', '2024-01-01 00:00:00'), -- 生产经理拥有模具、任务和记录权限
(3, 5, '2024-01-01 00:00:00', '2024-01-01 00:00:00'); -- 操作员只有记录查看权限
