# 工序管理移至加工管理内部

## 需求分析
将当前作为顶级菜单的"工序管理"功能，移动到"加工管理"菜单内部，作为其下的一个子菜单。

## 实现步骤

### 1. 修改路由配置
**文件**: `d:/trae/AT-MJ-3/frontend/frontend/src/router/index.ts`

- 将原有的"工序管理"路由配置（第41-72行）移动到"加工管理"路由的children数组中
- 调整路由路径：
  - 原路径: `/process` → 新路径: `/mold/process`
  - 子路由路径相应调整：
    - `/process/process-detail` → `/mold/process/process-detail`
    - `/process/material-preparation` → `/mold/process/material-preparation`

### 2. 检查组件引用
**检查范围**: 所有页面组件

- 检查是否有组件使用了旧的`/process`路径进行路由跳转
- 重点检查：
  - `d:/trae/AT-MJ-3/frontend/frontend/src/pages/mold/InitialParamDetail.vue`
  - `d:/trae/AT-MJ-3/frontend/frontend/src/pages/mold/ProcessPresetPage.vue`
  - 其他可能引用工序管理路由的组件

### 3. 确认菜单显示
- 确保工序管理在加工管理菜单下正确显示
- 保持原有的菜单图标和权限设置不变

## 预期效果

1. **菜单结构变化**：
   - 原结构：工序管理（顶级菜单）
   - 新结构：加工管理 → 工序管理（子菜单）

2. **路由路径变化**：
   - 工序管理主路径：`/process` → `/mold/process`
   - 工序详细设置：`/process/process-detail` → `/mold/process/process-detail`
   - 备料工序：`/process/material-preparation` → `/mold/process/material-preparation`

3. **功能保持不变**：
   - 所有工序管理相关功能保持原有逻辑
   - 权限控制保持不变
   - 菜单图标保持不变

## 风险评估

1. **路由跳转问题**：
   - 风险：组件内部可能存在硬编码的旧路由路径
   - 缓解：全面检查组件中的路由引用

2. **菜单显示问题**：
   - 风险：移动后菜单可能不显示或显示错误
   - 缓解：检查路由meta信息和菜单生成逻辑

3. **权限控制问题**：
   - 风险：移动后权限控制可能失效
   - 缓解：保持原有roles配置不变

## 验证步骤

1. 启动项目
2. 检查菜单结构，确认工序管理已作为加工管理的子菜单显示
3. 点击子菜单，确认能正常跳转到对应页面
4. 检查页面功能是否正常
5. 验证权限控制是否生效

## 代码修改点

1. **路由配置**：修改`router/index.ts`中的路由结构
2. **组件引用**：检查并更新组件中的路由跳转
3. **菜单生成**：确保`AppLayout.vue`中的菜单生成逻辑能正确处理新的路由结构