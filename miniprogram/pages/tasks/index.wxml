<view class="container">
  <!-- æœç´¢æ  -->
  <view class="search-section">
    <input-component 
      type="text" 
      placeholder="æœç´¢ä»»åŠ¡..." 
      clearable="true" 
      bind:input="onSearch"
      prefixIcon="ğŸ”"
    />
  </view>

  <!-- ç­›é€‰æ ‡ç­¾ -->
  <view class="filter-section">
    <view class="filter-tags">
      <tag 
        wx:for="{{filterTags}}" 
        wx:key="id" 
        class="tag tag-{{item.type}} {{item.active ? 'active' : ''}}" 
        bindtap="onFilter" 
        data-type="{{item.type}}"
      >
        {{item.name}}
      </tag>
    </view>
  </view>

  <!-- é¡µé¢åŠ è½½çŠ¶æ€ -->
  <view wx:if="{{loading}}" class="page-loading">
    <loading size="large" type="spinner" text="åŠ è½½ä¸­..."></loading>
  </view>
  
  <!-- ä»»åŠ¡åˆ—è¡¨ -->
  <view wx:else class="content">
    <view class="card">
      <view class="card-header">
        <h3>ä»»åŠ¡åˆ—è¡¨</h3>
        <text class="total">{{tasks.length}} ä¸ªä»»åŠ¡</text>
      </view>
      <view class="tasks-list">
        <view wx:for="{{tasks}}" wx:key="id" class="task-item" bindtap="navigateToTaskDetail" data-id="{{item.id}}">
          <view class="task-header">
            <text class="task-title">{{item.title}}</text>
            <tag class="tag tag-{{item.status}}">{{item.statusText}}</tag>
          </view>
          <view class="task-info">
            <text class="task-desc">{{item.description}}</text>
          </view>
          <view class="task-meta">
            <text class="task-time">{{item.createTime}}</text>
            <text class="task-assignee">è´Ÿè´£äºº: {{item.assignee}}</text>
          </view>
        </view>
        <view wx:if="{{tasks.length === 0}}" class="empty-state">
          <view class="empty-icon">ğŸ“‹</view>
          <text class="empty-title">æš‚æ— ä»»åŠ¡</text>
          <text class="empty-desc">å½“å‰ç­›é€‰æ¡ä»¶ä¸‹æ²¡æœ‰ä»»åŠ¡</text>
        </view>
      </view>
    </view>
    
    <!-- ä¸Šæ‹‰åŠ è½½æ›´å¤š -->
    <view wx:if="{{loadingMore}}" class="loading-more">
      <loading size="small" type="dots" text="åŠ è½½æ›´å¤š..."></loading>
    </view>
    
    <!-- æ²¡æœ‰æ›´å¤šæ•°æ® -->
    <view wx:elif="{{!hasMore}}" class="no-more">
      <text class="no-more-text">æ²¡æœ‰æ›´å¤šæ•°æ®äº†</text>
    </view>
  </view>
</view>