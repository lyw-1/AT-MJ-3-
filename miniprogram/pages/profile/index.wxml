<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="card user-card">
    <view class="user-avatar">
      <image src="{{userInfo && userInfo.avatar ? userInfo.avatar : '/assets/images/avatar-default.png'}}" mode="aspectFill"></image>
    </view>
    <view class="user-info">
      <view class="user-name">{{userInfo && userInfo.name ? userInfo.name : 'æœªè·å–'}}</view>
      <view class="user-role">{{userInfo && userInfo.role ? userInfo.role : 'æ™®é€šç”¨æˆ·'}}</view>
      <view class="user-meta">
        <text class="meta-item">
          <text class="meta-icon">ğŸ“Š</text>
          <text class="meta-text">ä»»åŠ¡æ•°: {{taskCount || 0}}</text>
        </text>
        <text class="meta-item">
          <text class="meta-icon">ğŸ†</text>
          <text class="meta-text">ç­‰çº§: {{level || 'Lv.1'}}</text>
        </text>
      </view>
    </view>
  </view>

  <!-- å¿«æ·æ“ä½œ -->
  <view class="card quick-actions-card">
    <view class="quick-action-item" wx:for="{{quickActions}}" wx:key="id" bindtap="onMenuItemClick" data-item="{{item.id}}">
      <view class="quick-action-icon" style="background-color: {{item.color}}">
        <view class="icon-text">{{item.iconText}}</view>
      </view>
      <view class="quick-action-name">{{item.name}}</view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="section-title">åŠŸèƒ½èœå•</view>

    <!-- ç¬¬ä¸€ç»„èœå• -->
    <view class="menu-group">
      <view class="menu-item" wx:for="{{menuItems}}" wx:key="id" wx:if="{{item.id !== 'feedback'}}" bindtap="onMenuItemClick" data-item="{{item.id}}">
        <view class="menu-icon" style="background-color: {{item.color}}">
          <image src="{{item.icon}}" style="width: 48rpx; height: 48rpx; filter: brightness(0) invert(1);"></image>
        </view>
        <view class="menu-text">{{item.name}}</view>
        <view class="menu-arrow">â†’</view>
      </view>
    </view>

    <!-- ç¬¬äºŒç»„èœå• -->
    <view class="menu-group" wx:if="{{hasFeedback}}">
      <view class="menu-item" wx:for="{{menuItems}}" wx:key="id" wx:if="{{item.id === 'feedback'}}" bindtap="onMenuItemClick" data-item="{{item.id}}">
        <view class="menu-icon" style="background-color: {{item.color}}">
          <image src="{{item.icon}}" style="width: 48rpx; height: 48rpx; filter: brightness(0) invert(1);"></image>
        </view>
        <view class="menu-text">{{item.name}}</view>
        <view class="menu-arrow">â†’</view>
      </view>
    </view>

    <!-- é€€å‡ºç™»å½•æŒ‰é’® -->
    <view class="menu-group logout-group">
      <view class="menu-item logout-item" bindtap="onLogout">
        <view class="menu-icon logout-icon" style="background-color: #f5222d">
          <image src="/assets/icons/arrow-right.svg" style="width: 48rpx; height: 48rpx; filter: brightness(0) invert(1);"></image>
        </view>
        <view class="menu-text logout-text">é€€å‡ºç™»å½•</view>
      </view>
    </view>
  </view>
</view>